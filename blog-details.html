<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Rakkas&display=swap" rel="stylesheet">
<title>ABDecodes - Blogs</title>
<link rel="stylesheet" href="css/required.css">
  <link rel="stylesheet" href="css/blog-details.css">
</head>
<body>
  <header>
    <h1 class="brandingMain" id="logoMain">ABDecodes</h1>
    <nav>
      <!-- <a href="#about">About</a> -->
      <a href="/index.html#portfolio">Portfolio</a>
      <a href="/index.html#contact">Contact</a>
      <a href="/blog.html">Blogs</a>
    </nav>
  </header>
  
  <div class="main-content">
    <div class="blog-details" id="blog-details"></div>
</div>
  
  <script>
    // Smooth scrolling with dynamic offset
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const offset = window.innerWidth > 768 ? 90 : 0; // Adjust this value as needed
            const target = document.querySelector(this.getAttribute('href'));
            const targetOffset = target.offsetTop - offset;

            window.scrollTo({
                top: targetOffset,
                behavior: 'smooth'
            });
        });
    });
  </script>
  
    <script>
      const blogDetails = document.getElementById('blog-details');
      const urlParams = new URLSearchParams(window.location.search);
      const postId = urlParams.get('id');
  
      function getBlogPostDetails() {
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'blogs/posts.json');
  
        xhr.onload = function() {
          if (xhr.status === 200) {
            const data = JSON.parse(xhr.responseText);
            let foundPost = null;
            console.log(data)
            data.forEach(post => {
              if (post.id == postId) {
                foundPost = post;
                return; 
              }
            });
            
            if (foundPost) {
              blogDetails.innerHTML = `
                <h1>${foundPost.title}</h1>
                ${foundPost.featured_image ? `<img src="${foundPost.featured_image}" alt="${foundPost.title}">` : ''}
                <p>${foundPost.content}</p>
                <p>Published: ${foundPost.date}</p>
              `;
            } else {
              blogDetails.innerHTML = '<p>Error: Post not found.</p>';
            }
          } else {
            console.error('Failed to load blog post details');
            blogDetails.innerHTML = '<p>Error: Could not load blog post details.</p>';
          }
        };
        
        xhr.send();
      }
      
      getBlogPostDetails();
    </script>
</body>
</html>
